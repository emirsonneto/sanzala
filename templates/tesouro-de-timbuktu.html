{% extends "base.html" %}
{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='timbuktu.css') }}">
{% endblock %}
{% block content %}
<h1>üëë Miss√£o: O Eco de Gana</h1>

<p>
  Em tempos antigos, muito antes dos mapas modernos, havia um reino dourado: <strong>Gana</strong>.  
  Seus reis eram mestres do com√©rcio, da sabedoria... e da l√≥gica.  
</p>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Ghana_empire_map.png/600px-Ghana_empire_map.png" alt="Mapa do Imp√©rio de Gana" class="avatar">

<div class="fala">
  ‚ÄúSou <strong>Wagadou</strong>, guardi√£o do C√≥dice de Ouro. Hoje, vamos desvendar os primeiros feiti√ßos do JavaScript ‚Äî a linguagem que d√° vida aos sites.‚Äù
</div>

<h2>üß† Etapa 1: O que √© JavaScript?</h2>
<p>
  HTML √© o corpo. CSS √© a roupa. <strong>JavaScript √© o c√©rebro</strong>.  
  Ele permite que p√°ginas <em>pensem</em> e <em>reajam</em>. Veja este exemplo:
</p>

<div class="pre-box">
  &lt;button onclick="alert('Bem-vindo ao Reino de Gana!')"&gt;Clique-me&lt;/button&gt;
</div>

<p>
  Quando clicas no bot√£o, aparece uma mensagem. Isso √© feito com <code>alert()</code>.
</p>

<div class="exercicio">
  <strong>Exerc√≠cio 1:</strong> Escreve um bot√£o que diga ‚ÄúOl√° Gana!‚Äù quando clicado:
  <input id="res1" placeholder='Ex: <button onclick="alert(&quot;Ol√° Gana!&quot;)">Clica aqui</button>'>
  <button onclick="verificaJS1('res1', 'feedback1')">Confirmar</button>
  <div id="feedback1" class="resultado"></div>
</div>

<h2>üî¢ Etapa 2: Vari√°veis</h2>
<p>
  Vari√°veis s√£o como <strong>caixinhas</strong> que guardam informa√ß√µes.  
  Exemplo:
</p>

<div class="pre-box">
  &lt;script&gt;<br>
  let ouro = 100;<br>
  alert("Tens " + ouro + " pe√ßas de ouro!");<br>
  &lt;/script&gt;
</div>

<p>
  O c√≥digo acima guarda o n√∫mero 100 dentro de uma vari√°vel chamada <code>ouro</code>.
</p>

<div class="exercicio">
  <strong>Exerc√≠cio 2:</strong> Crie uma vari√°vel chamada <code>rei</code> com seu nome e mostre num <code>alert</code>:
  <input id="res2" placeholder='Ex: <script>let rei="Kwame"; alert(rei);</script>'>
  <button onclick="verificaJS2('res2', 'feedback2')">Confirmar</button>
  <div id="feedback2" class="resultado"></div>
</div>

<h2>üîÑ Etapa 3: Condi√ß√µes</h2>
<p>
  JavaScript tamb√©m pode <strong>tomar decis√µes</strong>. Exemplo:
</p>

<div class="pre-box">
  &lt;script&gt;<br>
  let ouro = 50;<br>
  if (ouro >= 100) {<br>
    alert("√âs rico!");<br>
  } else {<br>
    alert("Acumula mais ouro!");<br>
  }<br>
  &lt;/script&gt;
</div>

<p>
  Se a vari√°vel <code>ouro</code> for maior ou igual a 100, mostra uma mensagem. Sen√£o, mostra outra.
</p>

<div class="exercicio">
  <strong>Exerc√≠cio 3:</strong> Fa√ßa um <code>if</code> que diga "Sou rei!" se <code>cargo</code> for "rei":
  <input id="res3" placeholder='Ex: <script>let cargo="rei"; if(cargo=="rei"){ alert("Sou rei!"); }</script>'>
  <button onclick="verificaJS3('res3', 'feedback3')">Confirmar</button>
  <div id="feedback3" class="resultado"></div>
</div>

<div class="fala">
  ‚ÄúVoc√™ dominou os primeiros encantos. JavaScript agora corre em tuas veias como os rios de ouro do Sahel.  
  A pr√≥xima miss√£o revelar√° fun√ß√µes, intera√ß√µes e... segredos.<a href="{{ url_for('desafio_bp.timbuktu')}}" class="btn btn-sm btn-outline-light">Aqui</a>‚Äù
</div>

<!-- FLAG OCULTA -->
<!-- 3c0{gan4_loja_dos_scriptos} -->

<script>
function verificaJS1(id, feedbackId) {
  const val = document.getElementById(id).value.toLowerCase();
  const ok = val.includes('<button') && val.includes('onclick') && val.includes('alert') && val.includes('ol√° gana');
  const f = document.getElementById(feedbackId);
  f.innerHTML = ok ? "‚úÖ Correto! O bot√£o funciona!" : "‚ùå Algo est√° errado. Use alert e o texto correto.";
  f.className = ok ? "resultado correto" : "resultado errado";
}

function verificaJS2(id, feedbackId) {
  const val = document.getElementById(id).value.toLowerCase();
  const ok = val.includes('let') && val.includes('rei') && val.includes('alert');
  const f = document.getElementById(feedbackId);
  f.innerHTML = ok ? "‚úÖ Vari√°vel criada com sucesso!" : "‚ùå Verifique a sintaxe da vari√°vel e do alert.";
  f.className = ok ? "resultado correto" : "resultado errado";
}

function verificaJS3(id, feedbackId) {
  const val = document.getElementById(id).value.toLowerCase();
  const ok = val.includes('if') && val.includes('cargo') && val.includes('==') && val.includes('alert');
  const f = document.getElementById(feedbackId);
  f.innerHTML = ok ? "‚úÖ √ìtimo! Condi√ß√£o aplicada!" : "‚ùå Corrija a estrutura do if.";
  f.className = ok ? "resultado correto" : "resultado errado";
}
</script>
{% endblock %}
