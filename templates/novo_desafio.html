{% extends 'base.html' %}
{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='novo_desafio.css') }}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="card bg-dark border-success shadow p-4">
    <h2 class="text-success mb-4"><i class="bi bi-plus-circle"></i> Novo Desafio</h2>

    <form method="POST">
      {{ form.hidden_tag() }}

      <!-- Título -->
      <div class="mb-3">
        <label class="form-label text-success">{{ form.titulo.label }}</label>
        {{ form.titulo(class="form-control bg-black text-light border-success") }}
      </div>

      <!-- Descrição -->
      <div class="mb-3">
        <label class="form-label text-success">{{ form.descricao.label }}</label>
        {{ form.descricao(class="form-control bg-black text-light border-success", rows="4") }}
      </div>

      <!-- Categoria -->
      <div class="mb-3">
        <label class="form-label text-success">{{ form.categoria.label }}</label>
        {{ form.categoria(class="form-select bg-black text-light border-success") }}
      </div>

      <!-- Nível -->
      <div class="col-md-6 mb-3">
        <label class="form-label text-success">{{ form.nivel.label }}</label>
        {{ form.nivel(class="form-select bg-black text-light border-success") }}
      </div>

      <hr class="border-success">

      <!-- Flags -->
      <h5 class="text-success"><i class="bi bi-flag-fill"></i> Flags</h5>
      <div id="flags-container">
        {% for flag in form.flags %}
        <div class="card bg-secondary text-light p-3 mb-3 flag-entry">
          <div class="row">
            <div class="col-md-6 mb-2">
              <label class="form-label text-light">{{ flag.titulo.label }}</label>
              {{ flag.titulo(class="form-control bg-black text-light border-light") }}
            </div>
            <div class="col-md-6 mb-2">
              <label class="form-label text-light">{{ flag.valor.label }}</label>
              {{ flag.valor(class="form-control bg-black text-light border-light") }}
            </div>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- Submit -->
      <button type="submit" class="btn btn-success w-100 mt-2">
        <i class="bi bi-check-circle"></i> {{ form.submit.label.text }}
      </button>
    </form>
  </div>
</div>
{% endblock %}
