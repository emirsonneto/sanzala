{% extends "base.html" %}
{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='kongo.css') }}"> 
{% endblock %}
{% block content %}
<h1>ğŸ§© MissÃ£o Cripto 0: A Palavra ao ContrÃ¡rio</h1>

<p>
No Reino do Kongo, o jovem aprendiz <strong>Kiala</strong> encontrou uma pedra estranha com letras invertidas.  
O velho mestre <strong>Mbuta Zemba</strong> sussurra: "Nem todo segredo precisa de feitiÃ§o. Ã€s vezes, basta virar a cabeÃ§a..."
</p>

<div class="challenge">
  <strong>Mensagem:</strong> <code>ODNAREK</code>
</div>

<label for="resposta1">Tua resposta:</label><br>
<input type="text" id="resposta1" placeholder="Escreve a palavra correta"><br><br>
<button onclick="verificarResposta1()">Verificar</button>
<p id="feedback1"></p>

<hr>

<h2>Codifica tua prÃ³pria mensagem:</h2>
<input type="text" id="mensagemOriginal" placeholder="Ex: segredo">
<button onclick="inverter()">Inverter</button>
<p><strong>Resultado:</strong> <span id="resultadoInverso"></span></p>

<h1>ğŸ˜ MissÃ£o Cripto 1: O CÃ³digo Emoji do Kongo</h1>

<p>
ApÃ³s resolver o enigma reverso, Kiala encontra uma tira de couro com sÃ­mbolos estranhos.  
Mbuta Zemba explica: "No Kongo, os mensageiros reais usavam emojis secretos para passar mensagens entre vilas."
</p>

<h2>ğŸ“• CÃ³digo Emoji Secreto</h2>
<p>
<ul>
  <li>E = ğŸ</li>
  <li>C = ğŸ˜</li>
  <li>O = ğŸ¥</li>
  <li>R = ğŸŒ</li>
</ul>
</p>

<h2>ğŸ§  Desafio Emoji:</h2>
<p><strong>Mensagem:</strong> <code>ğŸ˜ğŸ¥ğŸŒğŸŒğŸ</code></p>

<label for="respostaEmoji">Tua resposta:</label><br>
<input type="text" id="respostaEmoji" placeholder="Ex: cade"><br><br>
<button onclick="verificarEmoji()">Verificar</button>
<p id="feedbackEmoji"></p>

<hr>

<h2>Codifica a tua:</h2>
<input type="text" id="entradaEmoji" placeholder="Ex: abce">
<button onclick="codificarEmoji()">Codificar</button>
<p><strong>Mensagem Emoji:</strong> <span id="emojiResultado"></span></p>

<script>
function verificarResposta1() {
  const r = document.getElementById('resposta1').value.toLowerCase().trim();
  const feedback = document.getElementById('feedback1');
  if (r === "kerando") {
    feedback.innerText = "âœ… Correto! 'ODNAREK' ao contrÃ¡rio Ã© 'KERANDO'.";
    feedback.style.color = "green";
  } else {
    feedback.innerText = "âŒ Tenta outra vez.";
    feedback.style.color = "red";
  }
}

function inverter() {
  const t = document.getElementById('mensagemOriginal').value;
  document.getElementById('resultadoInverso').innerText = t.split('').reverse().join('');
}
  function verificarEmoji() {
    const r = document.getElementById('respostaEmoji').value.toLowerCase().trim();
    const feedback = document.getElementById('feedbackEmoji');
    if (r === "corre") {
      feedback.innerText = "âœ… Perfeito! Mensagem decifrada com sucesso.";
      feedback.style.color = "green";
    } else {
      feedback.innerText = "âŒ Hmm... tenta de novo. Lembra da tabela!";
      feedback.style.color = "red";
    }
  }

  function codificarEmoji() {
    const mapa = { e: 'ğŸ', c: 'ğŸ˜', o: 'ğŸ¥', r: 'ğŸŒ' };
    const texto = document.getElementById('entradaEmoji').value.toLowerCase();
    let codificado = "";
    for (let i = 0; i < texto.length; i++) {
      codificado += mapa[texto[i]] || texto[i];
    }
    document.getElementById('emojiResultado').innerText = codificado;
  }
</script>
{% endblock %}
